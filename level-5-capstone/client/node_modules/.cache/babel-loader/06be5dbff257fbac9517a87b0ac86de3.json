{"ast":null,"code":"var _jsxFileName = \"/home/marcuslinux/development/assignments/module-5/capstone/level-5-capstone/level-5-capstone/client/src/components/forms/WhoIsGoingForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { PersonContext } from \"../../context/PersonContext\";\nimport { DisplayContext } from \"../../context/DisplayContext\";\nimport GoingButton from \"../buttons/GoingButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WhoIsGoingForm = props => {\n  _s();\n\n  const {\n    familyMembers,\n    whoIsGoing,\n    setWhoIsGoing\n  } = useContext(PersonContext);\n  const {\n    formState,\n    setFormState\n  } = useContext(DisplayContext);\n  const [clicked, setClicked] = useState({}); // const handleChange = e => {\n  // \tconst { name, value } = e.target\n  // \twhoIsGoing.indexOf(value) > -1\n  // \t\t? setWhoIsGoing(whoIsGoing.filter(person => person != name))\n  // \t\t: setWhoIsGoing(prevState => [...prevState, value])\n  // }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setFormState(\"whereGoing\");\n  };\n\n  const handleClick = e => {\n    e.preventDefault();\n    const {\n      name\n    } = e.target;\n    const withoutThem = whoIsGoing.whoIsGoing.filter(person => person !== name);\n    clicked[name] ? setWhoIsGoing(prevState => ({ ...prevState,\n      whoIsGoing: [...prevState, name]\n    })) : setWhoIsGoing(prevState => {\n      whoIsGoing: withoutThem;\n    }); // arr.includes(name)\n    // \t? setWhoIsGoing({\n    // \t\t\twhoIsGoing: [arr.filter(person => person !== name)],\n    // \t  })\n    // \t: setWhoIsGoing(prevState => ({\n    // \t\t\t...prevState,\n    // \t\t\twhoIsGoing: [name, ...prevState.whoIsGoing],\n    // \t  }))\n\n    setClicked(prevState => {\n      return { ...prevState,\n        [name]: clicked[name] ? false : true\n      };\n    });\n  };\n\n  useEffect(() => {\n    console.log(clicked);\n  }, [clicked]);\n\n  const renderForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"whoIsGoing\",\n      id: \"whoIsGoingForm\",\n      onSubmit: handleSubmit,\n      children: familyMembers.map((person, index) => {\n        const personName = person.name;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(GoingButton, {\n            personName: personName,\n            type: \"button\",\n            clicked: clicked[personName],\n            onClick: handleClick\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 8\n          }, this)\n        }, personName, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this);\n  };\n\n  return renderForm();\n};\n\n_s(WhoIsGoingForm, \"FWFHtueVZ8o7+NRE/2t1AjjpxGs=\");\n\n_c = WhoIsGoingForm;\nexport default WhoIsGoingForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"WhoIsGoingForm\");","map":{"version":3,"sources":["/home/marcuslinux/development/assignments/module-5/capstone/level-5-capstone/level-5-capstone/client/src/components/forms/WhoIsGoingForm.js"],"names":["React","useState","useContext","useEffect","PersonContext","DisplayContext","GoingButton","WhoIsGoingForm","props","familyMembers","whoIsGoing","setWhoIsGoing","formState","setFormState","clicked","setClicked","handleSubmit","e","preventDefault","handleClick","name","target","withoutThem","filter","person","prevState","console","log","renderForm","map","index","personName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;;;AAEA,MAAMC,cAAc,GAAGC,KAAK,IAAI;AAAA;;AAC/B,QAAM;AAAEC,IAAAA,aAAF;AAAiBC,IAAAA,UAAjB;AAA6BC,IAAAA;AAA7B,MACLT,UAAU,CAACE,aAAD,CADX;AAEA,QAAM;AAAEQ,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA8BX,UAAU,CAACG,cAAD,CAA9C;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC,CAJ+B,CAM/B;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMe,YAAY,GAAGC,CAAC,IAAI;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACAL,IAAAA,YAAY,CAAC,YAAD,CAAZ;AACA,GAHD;;AAKA,QAAMM,WAAW,GAAGF,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM;AAAEE,MAAAA;AAAF,QAAWH,CAAC,CAACI,MAAnB;AACA,UAAMC,WAAW,GAAGZ,UAAU,CAACA,UAAX,CAAsBa,MAAtB,CACnBC,MAAM,IAAIA,MAAM,KAAKJ,IADF,CAApB;AAGAN,IAAAA,OAAO,CAACM,IAAD,CAAP,GACGT,aAAa,CAACc,SAAS,KAAK,EAC5B,GAAGA,SADyB;AAE5Bf,MAAAA,UAAU,EAAE,CAAC,GAAGe,SAAJ,EAAeL,IAAf;AAFgB,KAAL,CAAV,CADhB,GAKGT,aAAa,CAACc,SAAS,IAAI;AAC3Bf,MAAAA,UAAU,EAAEY,WAAW;AACtB,KAFY,CALhB,CANwB,CAexB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAP,IAAAA,UAAU,CAACU,SAAS,IAAI;AACvB,aAAO,EACN,GAAGA,SADG;AAEN,SAACL,IAAD,GAAQN,OAAO,CAACM,IAAD,CAAP,GAAgB,KAAhB,GAAwB;AAF1B,OAAP;AAIA,KALS,CAAV;AAMA,GA7BD;;AA8BAjB,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,OAAO,CAACC,GAAR,CAAYb,OAAZ;AACA,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;;AAIA,QAAMc,UAAU,GAAG,MAAM;AACxB,wBACC;AAAM,MAAA,IAAI,EAAC,YAAX;AAAwB,MAAA,EAAE,EAAC,gBAA3B;AAA4C,MAAA,QAAQ,EAAEZ,YAAtD;AAAA,gBACEP,aAAa,CAACoB,GAAd,CAAkB,CAACL,MAAD,EAASM,KAAT,KAAmB;AACrC,cAAMC,UAAU,GAAGP,MAAM,CAACJ,IAA1B;AACA,4BACC;AAAA,iCACC,QAAC,WAAD;AAEC,YAAA,UAAU,EAAEW,UAFb;AAGC,YAAA,IAAI,EAAC,QAHN;AAIC,YAAA,OAAO,EAAEjB,OAAO,CAACiB,UAAD,CAJjB;AAKC,YAAA,OAAO,EAAEZ;AALV,aACMW,KADN;AAAA;AAAA;AAAA;AAAA;AADD,WAAUC,UAAV;AAAA;AAAA;AAAA;AAAA,gBADD;AAWA,OAbA;AADF;AAAA;AAAA;AAAA;AAAA,YADD;AAkBA,GAnBD;;AAqBA,SAAOH,UAAU,EAAjB;AACA,CA1ED;;GAAMrB,c;;KAAAA,c;AA4EN,eAAeA,cAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\"\r\nimport { PersonContext } from \"../../context/PersonContext\"\r\nimport { DisplayContext } from \"../../context/DisplayContext\"\r\nimport GoingButton from \"../buttons/GoingButton\"\r\n\r\nconst WhoIsGoingForm = props => {\r\n\tconst { familyMembers, whoIsGoing, setWhoIsGoing } =\r\n\t\tuseContext(PersonContext)\r\n\tconst { formState, setFormState } = useContext(DisplayContext)\r\n\tconst [clicked, setClicked] = useState({})\r\n\r\n\t// const handleChange = e => {\r\n\t// \tconst { name, value } = e.target\r\n\t// \twhoIsGoing.indexOf(value) > -1\r\n\t// \t\t? setWhoIsGoing(whoIsGoing.filter(person => person != name))\r\n\t// \t\t: setWhoIsGoing(prevState => [...prevState, value])\r\n\t// }\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\t\tsetFormState(\"whereGoing\")\r\n\t}\r\n\r\n\tconst handleClick = e => {\r\n\t\te.preventDefault()\r\n\t\tconst { name } = e.target\r\n\t\tconst withoutThem = whoIsGoing.whoIsGoing.filter(\r\n\t\t\tperson => person !== name\r\n\t\t)\r\n\t\tclicked[name]\r\n\t\t\t? setWhoIsGoing(prevState => ({\r\n\t\t\t\t\t...prevState,\r\n\t\t\t\t\twhoIsGoing: [...prevState, name],\r\n\t\t\t  }))\r\n\t\t\t: setWhoIsGoing(prevState => {\r\n\t\t\t\t\twhoIsGoing: withoutThem\r\n\t\t\t  })\r\n\r\n\t\t// arr.includes(name)\r\n\t\t// \t? setWhoIsGoing({\r\n\t\t// \t\t\twhoIsGoing: [arr.filter(person => person !== name)],\r\n\t\t// \t  })\r\n\t\t// \t: setWhoIsGoing(prevState => ({\r\n\t\t// \t\t\t...prevState,\r\n\t\t// \t\t\twhoIsGoing: [name, ...prevState.whoIsGoing],\r\n\t\t// \t  }))\r\n\t\tsetClicked(prevState => {\r\n\t\t\treturn {\r\n\t\t\t\t...prevState,\r\n\t\t\t\t[name]: clicked[name] ? false : true,\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tconsole.log(clicked)\r\n\t}, [clicked])\r\n\r\n\tconst renderForm = () => {\r\n\t\treturn (\r\n\t\t\t<form name=\"whoIsGoing\" id=\"whoIsGoingForm\" onSubmit={handleSubmit}>\r\n\t\t\t\t{familyMembers.map((person, index) => {\r\n\t\t\t\t\tconst personName = person.name\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={personName}>\r\n\t\t\t\t\t\t\t<GoingButton\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tpersonName={personName}\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclicked={clicked[personName]}\r\n\t\t\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n\treturn renderForm()\r\n}\r\n\r\nexport default WhoIsGoingForm\r\n"]},"metadata":{},"sourceType":"module"}