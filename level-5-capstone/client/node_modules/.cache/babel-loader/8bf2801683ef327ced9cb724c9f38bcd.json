{"ast":null,"code":"var _jsxFileName = \"/home/marcuslinux/development/assignments/module-5/capstone/level-5-capstone/level-5-capstone/client/src/components/forms/WhoIsGoingForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { PersonContext } from \"../../context/PersonContext\";\nimport { DisplayContext } from \"../../context/DisplayContext\";\nimport GoingButton from \"../buttons/GoingButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WhoIsGoingForm = props => {\n  _s();\n\n  const {\n    familyMembers,\n    whoIsGoing,\n    setWhoIsGoing\n  } = useContext(PersonContext);\n  const {\n    formState,\n    setFormState\n  } = useContext(DisplayContext);\n  const [clicked, setClicked] = useState({});\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setWhoIsGoing(clicked.filter(person => person === true));\n    setFormState(\"whereGoing\");\n  };\n\n  const handleClick = e => {\n    e.preventDefault();\n    const {\n      name\n    } = e.target;\n    setClicked(prevState => {\n      return { ...prevState,\n        [name]: clicked[name] ? false : true\n      };\n    });\n  };\n\n  useEffect(() => {\n    console.log(clicked);\n  }, [clicked]);\n\n  const renderForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"whoIsGoing\",\n      id: \"whoIsGoingForm\",\n      onSubmit: handleSubmit,\n      children: familyMembers.map((person, index) => {\n        const personName = person.name;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(GoingButton, {\n            personName: personName,\n            type: \"button\",\n            clicked: clicked[personName],\n            onClick: handleClick\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 8\n          }, this)\n        }, personName, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }, this);\n  };\n\n  return renderForm();\n};\n\n_s(WhoIsGoingForm, \"FWFHtueVZ8o7+NRE/2t1AjjpxGs=\");\n\n_c = WhoIsGoingForm;\nexport default WhoIsGoingForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"WhoIsGoingForm\");","map":{"version":3,"sources":["/home/marcuslinux/development/assignments/module-5/capstone/level-5-capstone/level-5-capstone/client/src/components/forms/WhoIsGoingForm.js"],"names":["React","useState","useContext","useEffect","PersonContext","DisplayContext","GoingButton","WhoIsGoingForm","props","familyMembers","whoIsGoing","setWhoIsGoing","formState","setFormState","clicked","setClicked","handleSubmit","e","preventDefault","filter","person","handleClick","name","target","prevState","console","log","renderForm","map","index","personName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;;;AAEA,MAAMC,cAAc,GAAGC,KAAK,IAAI;AAAA;;AAC/B,QAAM;AAAEC,IAAAA,aAAF;AAAiBC,IAAAA,UAAjB;AAA6BC,IAAAA;AAA7B,MACLT,UAAU,CAACE,aAAD,CADX;AAEA,QAAM;AAAEQ,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA8BX,UAAU,CAACG,cAAD,CAA9C;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMe,YAAY,GAAGC,CAAC,IAAI;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACAP,IAAAA,aAAa,CAACG,OAAO,CAACK,MAAR,CAAeC,MAAM,IAAIA,MAAM,KAAK,IAApC,CAAD,CAAb;AAEAP,IAAAA,YAAY,CAAC,YAAD,CAAZ;AACA,GALD;;AAOA,QAAMQ,WAAW,GAAGJ,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM;AAAEI,MAAAA;AAAF,QAAWL,CAAC,CAACM,MAAnB;AACAR,IAAAA,UAAU,CAACS,SAAS,IAAI;AACvB,aAAO,EACN,GAAGA,SADG;AAEN,SAACF,IAAD,GAAQR,OAAO,CAACQ,IAAD,CAAP,GAAgB,KAAhB,GAAwB;AAF1B,OAAP;AAIA,KALS,CAAV;AAMA,GATD;;AAUAnB,EAAAA,SAAS,CAAC,MAAM;AACfsB,IAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ;AACA,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;;AAIA,QAAMa,UAAU,GAAG,MAAM;AACxB,wBACC;AAAM,MAAA,IAAI,EAAC,YAAX;AAAwB,MAAA,EAAE,EAAC,gBAA3B;AAA4C,MAAA,QAAQ,EAAEX,YAAtD;AAAA,gBACEP,aAAa,CAACmB,GAAd,CAAkB,CAACR,MAAD,EAASS,KAAT,KAAmB;AACrC,cAAMC,UAAU,GAAGV,MAAM,CAACE,IAA1B;AACA,4BACC;AAAA,iCACC,QAAC,WAAD;AAEC,YAAA,UAAU,EAAEQ,UAFb;AAGC,YAAA,IAAI,EAAC,QAHN;AAIC,YAAA,OAAO,EAAEhB,OAAO,CAACgB,UAAD,CAJjB;AAKC,YAAA,OAAO,EAAET;AALV,aACMQ,KADN;AAAA;AAAA;AAAA;AAAA;AADD,WAAUC,UAAV;AAAA;AAAA;AAAA;AAAA,gBADD;AAWA,OAbA;AADF;AAAA;AAAA;AAAA;AAAA,YADD;AAkBA,GAnBD;;AAqBA,SAAOH,UAAU,EAAjB;AACA,CAjDD;;GAAMpB,c;;KAAAA,c;AAmDN,eAAeA,cAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\"\r\nimport { PersonContext } from \"../../context/PersonContext\"\r\nimport { DisplayContext } from \"../../context/DisplayContext\"\r\nimport GoingButton from \"../buttons/GoingButton\"\r\n\r\nconst WhoIsGoingForm = props => {\r\n\tconst { familyMembers, whoIsGoing, setWhoIsGoing } =\r\n\t\tuseContext(PersonContext)\r\n\tconst { formState, setFormState } = useContext(DisplayContext)\r\n\tconst [clicked, setClicked] = useState({})\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\t\tsetWhoIsGoing(clicked.filter(person => person === true))\r\n\r\n\t\tsetFormState(\"whereGoing\")\r\n\t}\r\n\r\n\tconst handleClick = e => {\r\n\t\te.preventDefault()\r\n\t\tconst { name } = e.target\r\n\t\tsetClicked(prevState => {\r\n\t\t\treturn {\r\n\t\t\t\t...prevState,\r\n\t\t\t\t[name]: clicked[name] ? false : true,\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tconsole.log(clicked)\r\n\t}, [clicked])\r\n\r\n\tconst renderForm = () => {\r\n\t\treturn (\r\n\t\t\t<form name=\"whoIsGoing\" id=\"whoIsGoingForm\" onSubmit={handleSubmit}>\r\n\t\t\t\t{familyMembers.map((person, index) => {\r\n\t\t\t\t\tconst personName = person.name\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={personName}>\r\n\t\t\t\t\t\t\t<GoingButton\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tpersonName={personName}\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclicked={clicked[personName]}\r\n\t\t\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n\treturn renderForm()\r\n}\r\n\r\nexport default WhoIsGoingForm\r\n"]},"metadata":{},"sourceType":"module"}