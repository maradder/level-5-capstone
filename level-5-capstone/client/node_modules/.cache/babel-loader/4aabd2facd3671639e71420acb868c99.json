{"ast":null,"code":"var _jsxFileName = \"/home/marcuslinux/development/assignments/module-5/level-5-capstone/level-5-capstone/level-5-capstone/client/src/components/forms/CheckInForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { PersonContext } from \"../../context/PersonContext\";\nimport { DisplayContext } from \"../../context/DisplayContext\";\nimport CheckInButton from \"../buttons/CheckInButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CheckInForm = props => {\n  _s();\n\n  const {\n    familyMembers,\n    setFamilyMembers,\n    comingBack,\n    setComingBack,\n    checkInFunction\n  } = useContext(PersonContext);\n  const {\n    setFormState\n  } = useContext(DisplayContext);\n  const [clicked, setClicked] = useState({});\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    comingBack.indexOf(value) > -1 ? setComingBack(comingBack.filter(person => person != name)) : setComingBack(prevState => [...prevState, value]);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); // Update the status for each of the people\n\n    comingBack.map(person => {\n      const returnedPerson = familyMembers.findIndex(member => member.name === person);\n      const source = {\n        name: person,\n        atHome: true,\n        location: \"\",\n        ert: null\n      };\n      const target = familyMembers[returnedPerson];\n      const returnedTarget = Object.assign(target, source);\n      const remainingPersons = familyMembers.filter(human => human.name != person);\n      return setFamilyMembers([returnedTarget, ...remainingPersons]);\n    });\n    setFormState(\"status\");\n  };\n\n  const handleClick = (e, person) => {\n    e.preventDefault();\n    const {\n      name\n    } = e.target;\n    comingBack.indexOf(name) > -1 ? setComingBack(comingBack.filter(person => person != name)) : setComingBack(prevState => [...prevState, name]);\n    setClicked(prevState => {\n      return { ...prevState,\n        [name]: clicked[name] ? false : true\n      };\n    });\n    console.log(clicked);\n  };\n\n  const renderForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"checkInForm\",\n      id: \"checkInForm\",\n      onSubmit: handleSubmit,\n      children: familyMembers.map((person, index) => {\n        return (// const personName = person.name\n          person.atHome === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(CheckInButton, {\n              clicked: clicked[person.name],\n              personName: person.name,\n              id: person.name,\n              onClick: handleClick\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 9\n            }, this)\n          }, person.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 8\n          }, this) : console.log(\"Person is at home\")\n        );\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this);\n  };\n\n  useEffect(() => {\n    const results = renderForm();\n    return () => {\n      console.log(\"CheckInForm Refreshed\");\n    };\n  }, [clicked]);\n  return renderForm();\n};\n\n_s(CheckInForm, \"xfQw7/bfXWgnIzg+ftiBGcYHZ2Q=\");\n\n_c = CheckInForm;\nexport default CheckInForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckInForm\");","map":{"version":3,"sources":["/home/marcuslinux/development/assignments/module-5/level-5-capstone/level-5-capstone/level-5-capstone/client/src/components/forms/CheckInForm.js"],"names":["React","useState","useContext","useEffect","PersonContext","DisplayContext","CheckInButton","CheckInForm","props","familyMembers","setFamilyMembers","comingBack","setComingBack","checkInFunction","setFormState","clicked","setClicked","handleChange","e","name","value","target","indexOf","filter","person","prevState","handleSubmit","preventDefault","map","returnedPerson","findIndex","member","source","atHome","location","ert","returnedTarget","Object","assign","remainingPersons","human","handleClick","console","log","renderForm","index","results"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\"\r\nimport { PersonContext } from \"../../context/PersonContext\"\r\nimport { DisplayContext } from \"../../context/DisplayContext\"\r\nimport CheckInButton from \"../buttons/CheckInButton\"\r\n\r\nconst CheckInForm = props => {\r\n\tconst {\r\n\t\tfamilyMembers,\r\n\t\tsetFamilyMembers,\r\n\t\tcomingBack,\r\n\t\tsetComingBack,\r\n\t\tcheckInFunction,\r\n\t} = useContext(PersonContext)\r\n\tconst { setFormState } = useContext(DisplayContext)\r\n\tconst [clicked, setClicked] = useState({})\r\n\r\n\tconst handleChange = e => {\r\n\t\tconst { name, value } = e.target\r\n\t\tcomingBack.indexOf(value) > -1\r\n\t\t\t? setComingBack(comingBack.filter(person => person != name))\r\n\t\t\t: setComingBack(prevState => [...prevState, value])\r\n\t}\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\t\t// Update the status for each of the people\r\n\t\tcomingBack.map(person => {\r\n\t\t\tconst returnedPerson = familyMembers.findIndex(\r\n\t\t\t\tmember => member.name === person\r\n\t\t\t)\r\n\t\t\tconst source = {\r\n\t\t\t\tname: person,\r\n\t\t\t\tatHome: true,\r\n\t\t\t\tlocation: \"\",\r\n\t\t\t\tert: null,\r\n\t\t\t}\r\n\r\n\t\t\tconst target = familyMembers[returnedPerson]\r\n\t\t\tconst returnedTarget = Object.assign(target, source)\r\n\t\t\tconst remainingPersons = familyMembers.filter(\r\n\t\t\t\thuman => human.name != person\r\n\t\t\t)\r\n\t\t\treturn setFamilyMembers([returnedTarget, ...remainingPersons])\r\n\t\t})\r\n\t\tsetFormState(\"status\")\r\n\t}\r\n\r\n\tconst handleClick = (e, person) => {\r\n\t\te.preventDefault()\r\n\t\tconst { name } = e.target\r\n\t\tcomingBack.indexOf(name) > -1\r\n\t\t\t? setComingBack(comingBack.filter(person => person != name))\r\n\t\t\t: setComingBack(prevState => [...prevState, name])\r\n\t\tsetClicked(prevState => {\r\n\t\t\treturn {\r\n\t\t\t\t...prevState,\r\n\t\t\t\t[name]: clicked[name] ? false : true,\r\n\t\t\t}\r\n\t\t})\r\n\t\tconsole.log(clicked)\r\n\t}\r\n\r\n\tconst renderForm = () => {\r\n\t\treturn (\r\n\t\t\t<form name=\"checkInForm\" id=\"checkInForm\" onSubmit={handleSubmit}>\r\n\t\t\t\t{familyMembers.map((person, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t// const personName = person.name\r\n\t\t\t\t\t\tperson.atHome === false ? (\r\n\t\t\t\t\t\t\t<div key={person.name}>\r\n\t\t\t\t\t\t\t\t<CheckInButton\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tclicked={clicked[person.name]}\r\n\t\t\t\t\t\t\t\t\tpersonName={person.name}\r\n\t\t\t\t\t\t\t\t\tid={person.name}\r\n\t\t\t\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tconsole.log(\"Person is at home\")\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst results = renderForm()\r\n\t\treturn () => {\r\n\t\t\tconsole.log(\"CheckInForm Refreshed\")\r\n\t\t}\r\n\t}, [clicked])\r\n\r\n\treturn renderForm()\r\n}\r\n\r\nexport default CheckInForm\r\n"]},"metadata":{},"sourceType":"module"}